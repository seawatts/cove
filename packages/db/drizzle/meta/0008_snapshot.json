{
  "_meta": {
    "columns": {},
    "schemas": {},
    "tables": {}
  },
  "dialect": "postgresql",
  "enums": {
    "public.apiKeyUsageType": {
      "name": "apiKeyUsageType",
      "schema": "public",
      "values": ["mcp-server"]
    },
    "public.commandStatus": {
      "name": "commandStatus",
      "schema": "public",
      "values": ["pending", "processing", "completed", "failed"]
    },
    "public.deviceCapability": {
      "name": "deviceCapability",
      "schema": "public",
      "values": [
        "on_off",
        "brightness",
        "color_temperature",
        "color_rgb",
        "temperature",
        "humidity",
        "air_quality",
        "co2",
        "pressure",
        "motion",
        "occupancy",
        "contact_sensor",
        "battery",
        "power_consumption",
        "voltage",
        "lock",
        "unlock",
        "audio_volume",
        "audio_playback",
        "video_stream",
        "fan_speed",
        "heating",
        "cooling",
        "target_temperature",
        "custom"
      ]
    },
    "public.deviceType": {
      "name": "deviceType",
      "schema": "public",
      "values": [
        "light",
        "switch",
        "sensor",
        "thermostat",
        "lock",
        "camera",
        "speaker",
        "fan",
        "outlet",
        "hub",
        "other"
      ]
    },
    "public.eventSeverity": {
      "name": "eventSeverity",
      "schema": "public",
      "values": ["info", "warning", "error", "critical"]
    },
    "public.eventType": {
      "name": "eventType",
      "schema": "public",
      "values": [
        "hub_started",
        "hub_stopped",
        "device_discovered",
        "device_lost",
        "device_connected",
        "device_disconnected",
        "adapter_initialized",
        "adapter_error",
        "adapter_shutdown",
        "command_processed",
        "command_failed",
        "sync_success",
        "sync_error",
        "system_error",
        "config_updated",
        "state_changed",
        "lock_accessed",
        "lock_unlocked",
        "lock_locked",
        "motion_detected",
        "motion_cleared",
        "camera_stream_started",
        "camera_stream_stopped",
        "camera_motion_detected",
        "sensor_threshold_exceeded",
        "sensor_threshold_normal",
        "device_tampered",
        "battery_low",
        "battery_critical"
      ]
    },
    "public.localConnectionStatus": {
      "name": "localConnectionStatus",
      "schema": "public",
      "values": ["connected", "disconnected"]
    },
    "public.protocolType": {
      "name": "protocolType",
      "schema": "public",
      "values": [
        "esphome",
        "hue",
        "matter",
        "zigbee",
        "zwave",
        "wifi",
        "bluetooth",
        "mqtt",
        "http"
      ]
    },
    "public.stripeSubscriptionStatus": {
      "name": "stripeSubscriptionStatus",
      "schema": "public",
      "values": [
        "active",
        "canceled",
        "incomplete",
        "incomplete_expired",
        "past_due",
        "paused",
        "trialing",
        "unpaid"
      ]
    },
    "public.userRole": {
      "name": "userRole",
      "schema": "public",
      "values": ["admin", "superAdmin", "user"]
    }
  },
  "id": "9dd51243-6f5b-4a51-b75b-65834027e88c",
  "policies": {},
  "prevId": "c576f083-110d-4bc2-966b-389f873bfe4b",
  "roles": {},
  "schemas": {},
  "sequences": {},
  "tables": {
    "public.apiKeys": {
      "checkConstraints": {},
      "columns": {
        "createdAt": {
          "default": "now()",
          "name": "createdAt",
          "notNull": true,
          "primaryKey": false,
          "type": "timestamp with time zone"
        },
        "expiresAt": {
          "name": "expiresAt",
          "notNull": false,
          "primaryKey": false,
          "type": "timestamp with time zone"
        },
        "id": {
          "name": "id",
          "notNull": true,
          "primaryKey": true,
          "type": "varchar(128)"
        },
        "isActive": {
          "default": true,
          "name": "isActive",
          "notNull": true,
          "primaryKey": false,
          "type": "boolean"
        },
        "key": {
          "name": "key",
          "notNull": true,
          "primaryKey": false,
          "type": "text"
        },
        "lastUsedAt": {
          "name": "lastUsedAt",
          "notNull": false,
          "primaryKey": false,
          "type": "timestamp with time zone"
        },
        "name": {
          "name": "name",
          "notNull": true,
          "primaryKey": false,
          "type": "text"
        },
        "orgId": {
          "default": "requesting_org_id()",
          "name": "orgId",
          "notNull": true,
          "primaryKey": false,
          "type": "varchar"
        },
        "updatedAt": {
          "name": "updatedAt",
          "notNull": false,
          "primaryKey": false,
          "type": "timestamp with time zone"
        },
        "userId": {
          "default": "requesting_user_id()",
          "name": "userId",
          "notNull": true,
          "primaryKey": false,
          "type": "varchar"
        }
      },
      "compositePrimaryKeys": {},
      "foreignKeys": {
        "apiKeys_orgId_orgs_id_fk": {
          "columnsFrom": ["orgId"],
          "columnsTo": ["id"],
          "name": "apiKeys_orgId_orgs_id_fk",
          "onDelete": "cascade",
          "onUpdate": "no action",
          "tableFrom": "apiKeys",
          "tableTo": "orgs"
        },
        "apiKeys_userId_user_id_fk": {
          "columnsFrom": ["userId"],
          "columnsTo": ["id"],
          "name": "apiKeys_userId_user_id_fk",
          "onDelete": "cascade",
          "onUpdate": "no action",
          "tableFrom": "apiKeys",
          "tableTo": "user"
        }
      },
      "indexes": {},
      "isRLSEnabled": false,
      "name": "apiKeys",
      "policies": {},
      "schema": "",
      "uniqueConstraints": {
        "apiKeys_key_unique": {
          "columns": ["key"],
          "name": "apiKeys_key_unique",
          "nullsNotDistinct": false
        }
      }
    },
    "public.apiKeyUsage": {
      "checkConstraints": {},
      "columns": {
        "apiKeyId": {
          "name": "apiKeyId",
          "notNull": true,
          "primaryKey": false,
          "type": "varchar(128)"
        },
        "createdAt": {
          "default": "now()",
          "name": "createdAt",
          "notNull": true,
          "primaryKey": false,
          "type": "timestamp with time zone"
        },
        "id": {
          "name": "id",
          "notNull": true,
          "primaryKey": true,
          "type": "varchar(128)"
        },
        "metadata": {
          "name": "metadata",
          "notNull": false,
          "primaryKey": false,
          "type": "json"
        },
        "orgId": {
          "default": "requesting_org_id()",
          "name": "orgId",
          "notNull": true,
          "primaryKey": false,
          "type": "varchar"
        },
        "type": {
          "name": "type",
          "notNull": true,
          "primaryKey": false,
          "type": "apiKeyUsageType",
          "typeSchema": "public"
        },
        "updatedAt": {
          "name": "updatedAt",
          "notNull": false,
          "primaryKey": false,
          "type": "timestamp with time zone"
        },
        "userId": {
          "default": "requesting_user_id()",
          "name": "userId",
          "notNull": true,
          "primaryKey": false,
          "type": "varchar"
        }
      },
      "compositePrimaryKeys": {},
      "foreignKeys": {
        "apiKeyUsage_apiKeyId_apiKeys_id_fk": {
          "columnsFrom": ["apiKeyId"],
          "columnsTo": ["id"],
          "name": "apiKeyUsage_apiKeyId_apiKeys_id_fk",
          "onDelete": "cascade",
          "onUpdate": "no action",
          "tableFrom": "apiKeyUsage",
          "tableTo": "apiKeys"
        },
        "apiKeyUsage_orgId_orgs_id_fk": {
          "columnsFrom": ["orgId"],
          "columnsTo": ["id"],
          "name": "apiKeyUsage_orgId_orgs_id_fk",
          "onDelete": "cascade",
          "onUpdate": "no action",
          "tableFrom": "apiKeyUsage",
          "tableTo": "orgs"
        },
        "apiKeyUsage_userId_user_id_fk": {
          "columnsFrom": ["userId"],
          "columnsTo": ["id"],
          "name": "apiKeyUsage_userId_user_id_fk",
          "onDelete": "cascade",
          "onUpdate": "no action",
          "tableFrom": "apiKeyUsage",
          "tableTo": "user"
        }
      },
      "indexes": {},
      "isRLSEnabled": false,
      "name": "apiKeyUsage",
      "policies": {},
      "schema": "",
      "uniqueConstraints": {}
    },
    "public.authCodes": {
      "checkConstraints": {},
      "columns": {
        "createdAt": {
          "default": "now()",
          "name": "createdAt",
          "notNull": true,
          "primaryKey": false,
          "type": "timestamp with time zone"
        },
        "expiresAt": {
          "name": "expiresAt",
          "notNull": true,
          "primaryKey": false,
          "type": "timestamp with time zone"
        },
        "id": {
          "name": "id",
          "notNull": true,
          "primaryKey": true,
          "type": "varchar(128)"
        },
        "orgId": {
          "default": "requesting_org_id()",
          "name": "orgId",
          "notNull": true,
          "primaryKey": false,
          "type": "varchar"
        },
        "sessionId": {
          "name": "sessionId",
          "notNull": true,
          "primaryKey": false,
          "type": "text"
        },
        "updatedAt": {
          "name": "updatedAt",
          "notNull": false,
          "primaryKey": false,
          "type": "timestamp with time zone"
        },
        "usedAt": {
          "name": "usedAt",
          "notNull": false,
          "primaryKey": false,
          "type": "timestamp with time zone"
        },
        "userId": {
          "default": "requesting_user_id()",
          "name": "userId",
          "notNull": true,
          "primaryKey": false,
          "type": "varchar"
        }
      },
      "compositePrimaryKeys": {},
      "foreignKeys": {
        "authCodes_orgId_orgs_id_fk": {
          "columnsFrom": ["orgId"],
          "columnsTo": ["id"],
          "name": "authCodes_orgId_orgs_id_fk",
          "onDelete": "cascade",
          "onUpdate": "no action",
          "tableFrom": "authCodes",
          "tableTo": "orgs"
        },
        "authCodes_userId_user_id_fk": {
          "columnsFrom": ["userId"],
          "columnsTo": ["id"],
          "name": "authCodes_userId_user_id_fk",
          "onDelete": "cascade",
          "onUpdate": "no action",
          "tableFrom": "authCodes",
          "tableTo": "user"
        }
      },
      "indexes": {},
      "isRLSEnabled": false,
      "name": "authCodes",
      "policies": {},
      "schema": "",
      "uniqueConstraints": {}
    },
    "public.automations": {
      "checkConstraints": {},
      "columns": {
        "actions": {
          "name": "actions",
          "notNull": true,
          "primaryKey": false,
          "type": "json"
        },
        "conditions": {
          "default": "'[]'::json",
          "name": "conditions",
          "notNull": true,
          "primaryKey": false,
          "type": "json"
        },
        "createdAt": {
          "default": "now()",
          "name": "createdAt",
          "notNull": true,
          "primaryKey": false,
          "type": "timestamp with time zone"
        },
        "description": {
          "name": "description",
          "notNull": false,
          "primaryKey": false,
          "type": "text"
        },
        "enabled": {
          "default": true,
          "name": "enabled",
          "notNull": true,
          "primaryKey": false,
          "type": "boolean"
        },
        "id": {
          "name": "id",
          "notNull": true,
          "primaryKey": true,
          "type": "varchar(128)"
        },
        "lastTriggered": {
          "name": "lastTriggered",
          "notNull": false,
          "primaryKey": false,
          "type": "timestamp with time zone"
        },
        "name": {
          "name": "name",
          "notNull": true,
          "primaryKey": false,
          "type": "text"
        },
        "orgId": {
          "default": "requesting_org_id()",
          "name": "orgId",
          "notNull": false,
          "primaryKey": false,
          "type": "varchar"
        },
        "trigger": {
          "name": "trigger",
          "notNull": true,
          "primaryKey": false,
          "type": "json"
        },
        "updatedAt": {
          "name": "updatedAt",
          "notNull": false,
          "primaryKey": false,
          "type": "timestamp with time zone"
        },
        "userId": {
          "default": "requesting_user_id()",
          "name": "userId",
          "notNull": true,
          "primaryKey": false,
          "type": "varchar"
        }
      },
      "compositePrimaryKeys": {},
      "foreignKeys": {
        "automations_orgId_orgs_id_fk": {
          "columnsFrom": ["orgId"],
          "columnsTo": ["id"],
          "name": "automations_orgId_orgs_id_fk",
          "onDelete": "cascade",
          "onUpdate": "no action",
          "tableFrom": "automations",
          "tableTo": "orgs"
        },
        "automations_userId_user_id_fk": {
          "columnsFrom": ["userId"],
          "columnsTo": ["id"],
          "name": "automations_userId_user_id_fk",
          "onDelete": "cascade",
          "onUpdate": "no action",
          "tableFrom": "automations",
          "tableTo": "user"
        }
      },
      "indexes": {},
      "isRLSEnabled": false,
      "name": "automations",
      "policies": {},
      "schema": "",
      "uniqueConstraints": {}
    },
    "public.deviceCommands": {
      "checkConstraints": {},
      "columns": {
        "capability": {
          "name": "capability",
          "notNull": true,
          "primaryKey": false,
          "type": "text"
        },
        "createdAt": {
          "default": "now()",
          "name": "createdAt",
          "notNull": true,
          "primaryKey": false,
          "type": "timestamp with time zone"
        },
        "deviceId": {
          "name": "deviceId",
          "notNull": true,
          "primaryKey": false,
          "type": "varchar(128)"
        },
        "error": {
          "name": "error",
          "notNull": false,
          "primaryKey": false,
          "type": "text"
        },
        "id": {
          "name": "id",
          "notNull": true,
          "primaryKey": true,
          "type": "varchar(128)"
        },
        "processedAt": {
          "name": "processedAt",
          "notNull": false,
          "primaryKey": false,
          "type": "timestamp with time zone"
        },
        "status": {
          "default": "'pending'",
          "name": "status",
          "notNull": true,
          "primaryKey": false,
          "type": "commandStatus",
          "typeSchema": "public"
        },
        "userId": {
          "default": "requesting_user_id()",
          "name": "userId",
          "notNull": true,
          "primaryKey": false,
          "type": "varchar"
        },
        "value": {
          "name": "value",
          "notNull": true,
          "primaryKey": false,
          "type": "json"
        }
      },
      "compositePrimaryKeys": {},
      "foreignKeys": {
        "deviceCommands_deviceId_devices_id_fk": {
          "columnsFrom": ["deviceId"],
          "columnsTo": ["id"],
          "name": "deviceCommands_deviceId_devices_id_fk",
          "onDelete": "cascade",
          "onUpdate": "no action",
          "tableFrom": "deviceCommands",
          "tableTo": "devices"
        },
        "deviceCommands_userId_user_id_fk": {
          "columnsFrom": ["userId"],
          "columnsTo": ["id"],
          "name": "deviceCommands_userId_user_id_fk",
          "onDelete": "cascade",
          "onUpdate": "no action",
          "tableFrom": "deviceCommands",
          "tableTo": "user"
        }
      },
      "indexes": {},
      "isRLSEnabled": false,
      "name": "deviceCommands",
      "policies": {},
      "schema": "",
      "uniqueConstraints": {}
    },
    "public.deviceEvents": {
      "checkConstraints": {},
      "columns": {
        "createdAt": {
          "default": "now()",
          "name": "createdAt",
          "notNull": true,
          "primaryKey": false,
          "type": "timestamp with time zone"
        },
        "deviceId": {
          "name": "deviceId",
          "notNull": true,
          "primaryKey": false,
          "type": "varchar(128)"
        },
        "eventType": {
          "name": "eventType",
          "notNull": true,
          "primaryKey": false,
          "type": "eventType",
          "typeSchema": "public"
        },
        "id": {
          "name": "id",
          "notNull": true,
          "primaryKey": true,
          "type": "varchar(128)"
        },
        "message": {
          "name": "message",
          "notNull": true,
          "primaryKey": false,
          "type": "text"
        },
        "metadata": {
          "name": "metadata",
          "notNull": false,
          "primaryKey": false,
          "type": "json"
        },
        "severity": {
          "default": "'info'",
          "name": "severity",
          "notNull": true,
          "primaryKey": false,
          "type": "eventSeverity",
          "typeSchema": "public"
        },
        "stateId": {
          "name": "stateId",
          "notNull": false,
          "primaryKey": false,
          "type": "varchar(128)"
        },
        "timestamp": {
          "default": "now()",
          "name": "timestamp",
          "notNull": true,
          "primaryKey": false,
          "type": "timestamp with time zone"
        }
      },
      "compositePrimaryKeys": {},
      "foreignKeys": {
        "deviceEvents_deviceId_devices_id_fk": {
          "columnsFrom": ["deviceId"],
          "columnsTo": ["id"],
          "name": "deviceEvents_deviceId_devices_id_fk",
          "onDelete": "cascade",
          "onUpdate": "no action",
          "tableFrom": "deviceEvents",
          "tableTo": "devices"
        },
        "deviceEvents_stateId_deviceStateHistory_id_fk": {
          "columnsFrom": ["stateId"],
          "columnsTo": ["id"],
          "name": "deviceEvents_stateId_deviceStateHistory_id_fk",
          "onDelete": "set null",
          "onUpdate": "no action",
          "tableFrom": "deviceEvents",
          "tableTo": "deviceStateHistory"
        }
      },
      "indexes": {},
      "isRLSEnabled": false,
      "name": "deviceEvents",
      "policies": {},
      "schema": "",
      "uniqueConstraints": {}
    },
    "public.deviceStateHistory": {
      "checkConstraints": {},
      "columns": {
        "attributes": {
          "default": "'{}'::json",
          "name": "attributes",
          "notNull": false,
          "primaryKey": false,
          "type": "json"
        },
        "deviceId": {
          "name": "deviceId",
          "notNull": true,
          "primaryKey": false,
          "type": "varchar(128)"
        },
        "id": {
          "name": "id",
          "notNull": true,
          "primaryKey": true,
          "type": "varchar(128)"
        },
        "lastChanged": {
          "default": "now()",
          "name": "lastChanged",
          "notNull": true,
          "primaryKey": false,
          "type": "timestamp with time zone"
        },
        "lastUpdated": {
          "default": "now()",
          "name": "lastUpdated",
          "notNull": true,
          "primaryKey": false,
          "type": "timestamp with time zone"
        },
        "state": {
          "name": "state",
          "notNull": true,
          "primaryKey": false,
          "type": "json"
        }
      },
      "compositePrimaryKeys": {},
      "foreignKeys": {
        "deviceStateHistory_deviceId_devices_id_fk": {
          "columnsFrom": ["deviceId"],
          "columnsTo": ["id"],
          "name": "deviceStateHistory_deviceId_devices_id_fk",
          "onDelete": "cascade",
          "onUpdate": "no action",
          "tableFrom": "deviceStateHistory",
          "tableTo": "devices"
        }
      },
      "indexes": {
        "deviceStateHistory_deviceId_lastChanged_idx": {
          "columns": [
            {
              "asc": true,
              "expression": "deviceId",
              "isExpression": false,
              "nulls": "last"
            },
            {
              "asc": true,
              "expression": "lastChanged",
              "isExpression": false,
              "nulls": "last"
            }
          ],
          "concurrently": false,
          "isUnique": false,
          "method": "btree",
          "name": "deviceStateHistory_deviceId_lastChanged_idx",
          "with": {}
        },
        "deviceStateHistory_lastChanged_idx": {
          "columns": [
            {
              "asc": true,
              "expression": "lastChanged",
              "isExpression": false,
              "nulls": "last"
            }
          ],
          "concurrently": false,
          "isUnique": false,
          "method": "btree",
          "name": "deviceStateHistory_lastChanged_idx",
          "with": {}
        }
      },
      "isRLSEnabled": false,
      "name": "deviceStateHistory",
      "policies": {},
      "schema": "",
      "uniqueConstraints": {}
    },
    "public.devices": {
      "checkConstraints": {},
      "columns": {
        "available": {
          "default": true,
          "name": "available",
          "notNull": true,
          "primaryKey": false,
          "type": "boolean"
        },
        "capabilities": {
          "default": "'[]'::json",
          "name": "capabilities",
          "notNull": true,
          "primaryKey": false,
          "type": "json"
        },
        "config": {
          "default": "'{}'::json",
          "name": "config",
          "notNull": true,
          "primaryKey": false,
          "type": "json"
        },
        "createdAt": {
          "default": "now()",
          "name": "createdAt",
          "notNull": true,
          "primaryKey": false,
          "type": "timestamp with time zone"
        },
        "deviceType": {
          "name": "deviceType",
          "notNull": true,
          "primaryKey": false,
          "type": "deviceType",
          "typeSchema": "public"
        },
        "externalId": {
          "name": "externalId",
          "notNull": true,
          "primaryKey": false,
          "type": "text"
        },
        "hubId": {
          "name": "hubId",
          "notNull": false,
          "primaryKey": false,
          "type": "varchar(128)"
        },
        "id": {
          "name": "id",
          "notNull": true,
          "primaryKey": true,
          "type": "varchar(128)"
        },
        "ipAddress": {
          "name": "ipAddress",
          "notNull": false,
          "primaryKey": false,
          "type": "text"
        },
        "lastSeen": {
          "name": "lastSeen",
          "notNull": false,
          "primaryKey": false,
          "type": "timestamp with time zone"
        },
        "macAddress": {
          "name": "macAddress",
          "notNull": false,
          "primaryKey": false,
          "type": "text"
        },
        "name": {
          "name": "name",
          "notNull": true,
          "primaryKey": false,
          "type": "text"
        },
        "online": {
          "default": false,
          "name": "online",
          "notNull": true,
          "primaryKey": false,
          "type": "boolean"
        },
        "orgId": {
          "default": "requesting_org_id()",
          "name": "orgId",
          "notNull": false,
          "primaryKey": false,
          "type": "varchar"
        },
        "protocol": {
          "name": "protocol",
          "notNull": false,
          "primaryKey": false,
          "type": "protocolType",
          "typeSchema": "public"
        },
        "roomId": {
          "name": "roomId",
          "notNull": false,
          "primaryKey": false,
          "type": "varchar(128)"
        },
        "state": {
          "default": "'{}'::json",
          "name": "state",
          "notNull": true,
          "primaryKey": false,
          "type": "json"
        },
        "updatedAt": {
          "name": "updatedAt",
          "notNull": false,
          "primaryKey": false,
          "type": "timestamp with time zone"
        },
        "userId": {
          "default": "requesting_user_id()",
          "name": "userId",
          "notNull": false,
          "primaryKey": false,
          "type": "varchar"
        },
        "version": {
          "name": "version",
          "notNull": false,
          "primaryKey": false,
          "type": "text"
        }
      },
      "compositePrimaryKeys": {},
      "foreignKeys": {
        "devices_hubId_devices_id_fk": {
          "columnsFrom": ["hubId"],
          "columnsTo": ["id"],
          "name": "devices_hubId_devices_id_fk",
          "onDelete": "cascade",
          "onUpdate": "no action",
          "tableFrom": "devices",
          "tableTo": "devices"
        },
        "devices_orgId_orgs_id_fk": {
          "columnsFrom": ["orgId"],
          "columnsTo": ["id"],
          "name": "devices_orgId_orgs_id_fk",
          "onDelete": "cascade",
          "onUpdate": "no action",
          "tableFrom": "devices",
          "tableTo": "orgs"
        },
        "devices_roomId_rooms_id_fk": {
          "columnsFrom": ["roomId"],
          "columnsTo": ["id"],
          "name": "devices_roomId_rooms_id_fk",
          "onDelete": "set null",
          "onUpdate": "no action",
          "tableFrom": "devices",
          "tableTo": "rooms"
        },
        "devices_userId_user_id_fk": {
          "columnsFrom": ["userId"],
          "columnsTo": ["id"],
          "name": "devices_userId_user_id_fk",
          "onDelete": "cascade",
          "onUpdate": "no action",
          "tableFrom": "devices",
          "tableTo": "user"
        }
      },
      "indexes": {
        "devices_ipAddress_idx": {
          "columns": [
            {
              "asc": true,
              "expression": "ipAddress",
              "isExpression": false,
              "nulls": "last"
            }
          ],
          "concurrently": false,
          "isUnique": false,
          "method": "btree",
          "name": "devices_ipAddress_idx",
          "with": {}
        },
        "devices_macAddress_idx": {
          "columns": [
            {
              "asc": true,
              "expression": "macAddress",
              "isExpression": false,
              "nulls": "last"
            }
          ],
          "concurrently": false,
          "isUnique": false,
          "method": "btree",
          "name": "devices_macAddress_idx",
          "with": {}
        }
      },
      "isRLSEnabled": false,
      "name": "devices",
      "policies": {},
      "schema": "",
      "uniqueConstraints": {
        "devices_externalId_unique": {
          "columns": ["externalId"],
          "name": "devices_externalId_unique",
          "nullsNotDistinct": false
        }
      }
    },
    "public.orgMembers": {
      "checkConstraints": {},
      "columns": {
        "createdAt": {
          "default": "now()",
          "name": "createdAt",
          "notNull": false,
          "primaryKey": false,
          "type": "timestamp with time zone"
        },
        "id": {
          "name": "id",
          "notNull": true,
          "primaryKey": true,
          "type": "varchar(128)"
        },
        "orgId": {
          "default": "requesting_org_id()",
          "name": "orgId",
          "notNull": true,
          "primaryKey": false,
          "type": "varchar"
        },
        "role": {
          "default": "'user'",
          "name": "role",
          "notNull": true,
          "primaryKey": false,
          "type": "userRole",
          "typeSchema": "public"
        },
        "updatedAt": {
          "name": "updatedAt",
          "notNull": false,
          "primaryKey": false,
          "type": "timestamp with time zone"
        },
        "userId": {
          "default": "requesting_user_id()",
          "name": "userId",
          "notNull": true,
          "primaryKey": false,
          "type": "varchar"
        }
      },
      "compositePrimaryKeys": {},
      "foreignKeys": {
        "orgMembers_orgId_orgs_id_fk": {
          "columnsFrom": ["orgId"],
          "columnsTo": ["id"],
          "name": "orgMembers_orgId_orgs_id_fk",
          "onDelete": "cascade",
          "onUpdate": "no action",
          "tableFrom": "orgMembers",
          "tableTo": "orgs"
        },
        "orgMembers_userId_user_id_fk": {
          "columnsFrom": ["userId"],
          "columnsTo": ["id"],
          "name": "orgMembers_userId_user_id_fk",
          "onDelete": "cascade",
          "onUpdate": "no action",
          "tableFrom": "orgMembers",
          "tableTo": "user"
        }
      },
      "indexes": {},
      "isRLSEnabled": false,
      "name": "orgMembers",
      "policies": {},
      "schema": "",
      "uniqueConstraints": {
        "orgMembers_userId_orgId_unique": {
          "columns": ["userId", "orgId"],
          "name": "orgMembers_userId_orgId_unique",
          "nullsNotDistinct": false
        }
      }
    },
    "public.orgs": {
      "checkConstraints": {},
      "columns": {
        "clerkOrgId": {
          "name": "clerkOrgId",
          "notNull": true,
          "primaryKey": false,
          "type": "text"
        },
        "createdAt": {
          "default": "now()",
          "name": "createdAt",
          "notNull": false,
          "primaryKey": false,
          "type": "timestamp with time zone"
        },
        "createdByUserId": {
          "name": "createdByUserId",
          "notNull": true,
          "primaryKey": false,
          "type": "varchar"
        },
        "id": {
          "name": "id",
          "notNull": true,
          "primaryKey": true,
          "type": "varchar(128)"
        },
        "name": {
          "name": "name",
          "notNull": true,
          "primaryKey": false,
          "type": "text"
        },
        "stripeCustomerId": {
          "name": "stripeCustomerId",
          "notNull": false,
          "primaryKey": false,
          "type": "text"
        },
        "stripeSubscriptionId": {
          "name": "stripeSubscriptionId",
          "notNull": false,
          "primaryKey": false,
          "type": "text"
        },
        "stripeSubscriptionStatus": {
          "name": "stripeSubscriptionStatus",
          "notNull": false,
          "primaryKey": false,
          "type": "stripeSubscriptionStatus",
          "typeSchema": "public"
        },
        "updatedAt": {
          "name": "updatedAt",
          "notNull": false,
          "primaryKey": false,
          "type": "timestamp with time zone"
        }
      },
      "compositePrimaryKeys": {},
      "foreignKeys": {
        "orgs_createdByUserId_user_id_fk": {
          "columnsFrom": ["createdByUserId"],
          "columnsTo": ["id"],
          "name": "orgs_createdByUserId_user_id_fk",
          "onDelete": "cascade",
          "onUpdate": "no action",
          "tableFrom": "orgs",
          "tableTo": "user"
        }
      },
      "indexes": {},
      "isRLSEnabled": false,
      "name": "orgs",
      "policies": {},
      "schema": "",
      "uniqueConstraints": {
        "orgs_clerkOrgId_unique": {
          "columns": ["clerkOrgId"],
          "name": "orgs_clerkOrgId_unique",
          "nullsNotDistinct": false
        },
        "orgs_name_unique": {
          "columns": ["name"],
          "name": "orgs_name_unique",
          "nullsNotDistinct": false
        }
      }
    },
    "public.rooms": {
      "checkConstraints": {},
      "columns": {
        "automationsEnabled": {
          "default": true,
          "name": "automationsEnabled",
          "notNull": true,
          "primaryKey": false,
          "type": "boolean"
        },
        "color": {
          "name": "color",
          "notNull": false,
          "primaryKey": false,
          "type": "text"
        },
        "createdAt": {
          "default": "now()",
          "name": "createdAt",
          "notNull": true,
          "primaryKey": false,
          "type": "timestamp with time zone"
        },
        "description": {
          "name": "description",
          "notNull": false,
          "primaryKey": false,
          "type": "text"
        },
        "floor": {
          "name": "floor",
          "notNull": false,
          "primaryKey": false,
          "type": "json"
        },
        "icon": {
          "name": "icon",
          "notNull": false,
          "primaryKey": false,
          "type": "text"
        },
        "id": {
          "name": "id",
          "notNull": true,
          "primaryKey": true,
          "type": "varchar(128)"
        },
        "name": {
          "name": "name",
          "notNull": true,
          "primaryKey": false,
          "type": "text"
        },
        "orgId": {
          "default": "requesting_org_id()",
          "name": "orgId",
          "notNull": false,
          "primaryKey": false,
          "type": "varchar"
        },
        "updatedAt": {
          "name": "updatedAt",
          "notNull": false,
          "primaryKey": false,
          "type": "timestamp with time zone"
        },
        "userId": {
          "default": "requesting_user_id()",
          "name": "userId",
          "notNull": true,
          "primaryKey": false,
          "type": "varchar"
        }
      },
      "compositePrimaryKeys": {},
      "foreignKeys": {
        "rooms_orgId_orgs_id_fk": {
          "columnsFrom": ["orgId"],
          "columnsTo": ["id"],
          "name": "rooms_orgId_orgs_id_fk",
          "onDelete": "cascade",
          "onUpdate": "no action",
          "tableFrom": "rooms",
          "tableTo": "orgs"
        },
        "rooms_userId_user_id_fk": {
          "columnsFrom": ["userId"],
          "columnsTo": ["id"],
          "name": "rooms_userId_user_id_fk",
          "onDelete": "cascade",
          "onUpdate": "no action",
          "tableFrom": "rooms",
          "tableTo": "user"
        }
      },
      "indexes": {},
      "isRLSEnabled": false,
      "name": "rooms",
      "policies": {},
      "schema": "",
      "uniqueConstraints": {}
    },
    "public.scenes": {
      "checkConstraints": {},
      "columns": {
        "actions": {
          "name": "actions",
          "notNull": true,
          "primaryKey": false,
          "type": "json"
        },
        "createdAt": {
          "default": "now()",
          "name": "createdAt",
          "notNull": true,
          "primaryKey": false,
          "type": "timestamp with time zone"
        },
        "description": {
          "name": "description",
          "notNull": false,
          "primaryKey": false,
          "type": "text"
        },
        "icon": {
          "name": "icon",
          "notNull": false,
          "primaryKey": false,
          "type": "text"
        },
        "id": {
          "name": "id",
          "notNull": true,
          "primaryKey": true,
          "type": "varchar(128)"
        },
        "lastActivated": {
          "name": "lastActivated",
          "notNull": false,
          "primaryKey": false,
          "type": "timestamp with time zone"
        },
        "name": {
          "name": "name",
          "notNull": true,
          "primaryKey": false,
          "type": "text"
        },
        "orgId": {
          "default": "requesting_org_id()",
          "name": "orgId",
          "notNull": false,
          "primaryKey": false,
          "type": "varchar"
        },
        "updatedAt": {
          "name": "updatedAt",
          "notNull": false,
          "primaryKey": false,
          "type": "timestamp with time zone"
        },
        "userId": {
          "default": "requesting_user_id()",
          "name": "userId",
          "notNull": true,
          "primaryKey": false,
          "type": "varchar"
        }
      },
      "compositePrimaryKeys": {},
      "foreignKeys": {
        "scenes_orgId_orgs_id_fk": {
          "columnsFrom": ["orgId"],
          "columnsTo": ["id"],
          "name": "scenes_orgId_orgs_id_fk",
          "onDelete": "cascade",
          "onUpdate": "no action",
          "tableFrom": "scenes",
          "tableTo": "orgs"
        },
        "scenes_userId_user_id_fk": {
          "columnsFrom": ["userId"],
          "columnsTo": ["id"],
          "name": "scenes_userId_user_id_fk",
          "onDelete": "cascade",
          "onUpdate": "no action",
          "tableFrom": "scenes",
          "tableTo": "user"
        }
      },
      "indexes": {},
      "isRLSEnabled": false,
      "name": "scenes",
      "policies": {},
      "schema": "",
      "uniqueConstraints": {}
    },
    "public.user": {
      "checkConstraints": {},
      "columns": {
        "avatarUrl": {
          "name": "avatarUrl",
          "notNull": false,
          "primaryKey": false,
          "type": "text"
        },
        "clerkId": {
          "name": "clerkId",
          "notNull": true,
          "primaryKey": false,
          "type": "text"
        },
        "createdAt": {
          "default": "now()",
          "name": "createdAt",
          "notNull": true,
          "primaryKey": false,
          "type": "timestamp"
        },
        "email": {
          "name": "email",
          "notNull": true,
          "primaryKey": false,
          "type": "text"
        },
        "firstName": {
          "name": "firstName",
          "notNull": false,
          "primaryKey": false,
          "type": "text"
        },
        "id": {
          "name": "id",
          "notNull": true,
          "primaryKey": true,
          "type": "varchar(128)"
        },
        "lastLoggedInAt": {
          "name": "lastLoggedInAt",
          "notNull": false,
          "primaryKey": false,
          "type": "timestamp with time zone"
        },
        "lastName": {
          "name": "lastName",
          "notNull": false,
          "primaryKey": false,
          "type": "text"
        },
        "online": {
          "default": false,
          "name": "online",
          "notNull": true,
          "primaryKey": false,
          "type": "boolean"
        },
        "updatedAt": {
          "name": "updatedAt",
          "notNull": false,
          "primaryKey": false,
          "type": "timestamp with time zone"
        }
      },
      "compositePrimaryKeys": {},
      "foreignKeys": {},
      "indexes": {},
      "isRLSEnabled": false,
      "name": "user",
      "policies": {},
      "schema": "",
      "uniqueConstraints": {
        "user_clerkId_unique": {
          "columns": ["clerkId"],
          "name": "user_clerkId_unique",
          "nullsNotDistinct": false
        }
      }
    }
  },
  "version": "7",
  "views": {}
}
